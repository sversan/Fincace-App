div class="container mt-4">

  <h2>Lista tranzacțiilor</h2>

  <!-- Afișare top alimente consumate -->
  <div class="alert alert-info">
    <strong>Top alimente consumate:</strong>
    {% for food in top_foods %}
      <span class="badge bg-success">{{ food.capitalize() }}</span>
    {% endfor %}
  </div>

  <!-- Tabel tranzacții -->
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Data</th>
        <th>Suma</th>
        <th>Tip tranzacție</th>
        <th>Metoda plată</th>
        <th>Categorie</th>
        <th>Notă</th>
      </tr>
    </thead>
    <tbody>
      {% for t in transactions %}
      <tr {% if t.category and t.category.lower() in top_foods %} class="table-success fw-bold" {% endif %}>
        <td>{{ t.date.strftime('%Y-%m-%d') }}</td>
        <td>{{ "%.2f"|format(t.amount) }} lei</td>
        <td>{{ t.ttype }}</td>
        <td>{{ t.payment_method }}</td>
        <td>{{ t.category or '' }}</td>
        <td>{{ t.note or '' }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>

{% endblock %}
